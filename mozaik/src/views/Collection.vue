<template>
  <div id="app" class="mx-20">
    <header class="container flex justify-between items-center my-10">
      <router-link to="/home">
        <h1 class="text-4xl text-normal font-display">Mozaik</h1></router-link
      >
      <nav class="flex">
        <router-link :to="'/'"
          ><button class="btn-purple">Sign out</button></router-link
        >
      </nav>
    </header>

    <main>
      <div class="flex mt-20 mb-8">
        <svg
          class="mr-3"
          width="80"
          height="80"
          viewBox="0 0 100 101"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M83.5906 78.258C88.0785 72.8584 91.1999 66.4572 92.6907 59.5961C94.1815 52.735 93.9978 45.6157 92.1553 38.8406C90.3127 32.0654 86.8655 25.8337 82.1052 20.6726C77.3449 15.5115 71.4115 11.5729 64.8071 9.18986C58.2026 6.80682 51.1214 6.04953 44.1624 6.98203C37.2034 7.91453 30.5713 10.5094 24.8272 14.5471C19.0832 18.5848 14.3961 23.9466 11.1625 30.1789C7.92887 36.4112 6.24387 43.3306 6.25002 50.3518C6.25238 60.5586 9.84922 70.4386 16.4094 78.258L16.3469 78.3112C16.5656 78.5737 16.8156 78.7987 17.0406 79.058C17.3219 79.3799 17.625 79.683 17.9156 79.9955C18.7906 80.9455 19.6906 81.858 20.6344 82.7143C20.9219 82.9768 21.2188 83.2205 21.5094 83.4705C22.5094 84.333 23.5375 85.1518 24.6031 85.9143C24.7406 86.008 24.8656 86.1299 25.0031 86.2268V86.1893C32.3222 91.3398 41.0535 94.104 50.0031 94.104C58.9528 94.104 67.6841 91.3398 75.0031 86.1893V86.2268C75.1406 86.1299 75.2625 86.008 75.4031 85.9143C76.4656 85.1487 77.4969 84.333 78.4969 83.4705C78.7875 83.2205 79.0844 82.9737 79.3719 82.7143C80.3156 81.8549 81.2156 80.9455 82.0906 79.9955C82.3813 79.683 82.6813 79.3799 82.9656 79.058C83.1875 78.7987 83.4406 78.5736 83.6594 78.308L83.5906 78.258ZM50 25.3518C52.7813 25.3518 55.5002 26.1765 57.8127 27.7217C60.1253 29.2669 61.9277 31.4632 62.9921 34.0328C64.0564 36.6024 64.3349 39.4299 63.7923 42.1577C63.2497 44.8856 61.9104 47.3913 59.9437 49.358C57.977 51.3246 55.4713 52.664 52.7435 53.2066C50.0156 53.7492 47.1881 53.4707 44.6185 52.4063C42.0489 51.342 39.8527 49.5395 38.3075 47.227C36.7623 44.9144 35.9375 42.1956 35.9375 39.4143C35.9375 35.6847 37.4191 32.1078 40.0563 29.4706C42.6936 26.8334 46.2704 25.3518 50 25.3518ZM25.0219 78.258C25.0761 74.1548 26.7436 70.2379 29.6636 67.3547C32.5837 64.4715 36.5214 62.8539 40.625 62.8518H59.375C63.4786 62.8539 67.4164 64.4715 70.3364 67.3547C73.2564 70.2379 74.9239 74.1548 74.9781 78.258C68.1245 84.4341 59.2258 87.852 50 87.852C40.7742 87.852 31.8755 84.4341 25.0219 78.258Z"
            fill="black"
            fill-opacity="0.4"
          />
        </svg>
        <div>
          <p class="font-display text-lg">{{ this.user.sessionUsername }}</p>
          <router-link :to="'/account/'"
            ><p class="font-copy font-light text-sm mt-1 hover:text-purple">
              Manage account
            </p></router-link
          >
        </div>
      </div>

      <div class="container flex justify-between items-center">
        <div>
          <p class="font-display text-lg flex items-center">
            <svg
              @click="$router.go(-1)"
              class="mr-8 cursor-pointer items-center"
              width="21"
              height="17"
              viewBox="0 0 21 17"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M3.29795 7.33096L20.231 7.33095L20.231 9.35937L3.29795 9.35937L3.29795 7.33096Z"
                fill="black"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M2.10066 7.44422C6.2102 8.12115 9.43114 11.3421 10.1081 15.4516L8.10662 15.7813C7.57103 12.5297 5.02254 9.98126 1.77098 9.44566L2.10066 7.44422Z"
                fill="black"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M1.77061 7.17289C5.0221 6.63721 7.57071 4.08868 8.10628 0.837251L10.1077 1.16692C9.43082 5.27639 6.20971 8.4973 2.10034 9.17432L1.77061 7.17289Z"
                fill="black"
              />
            </svg>

            {{ currentTitle }}

            <svg
              @click="editCollectionName()"
              class="stroke-current hover:text-purple ml-4"
              width="18"
              height="18"
              viewBox="0 0 36 36"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M33.8698 8.31997L27.9998 2.41997C27.6119 2.03403 27.087 1.81738 26.5398 1.81738C25.9926 1.81738 25.4677 2.03403 25.0798 2.41997L4.26981 23.2L2.36981 31.4C2.30427 31.6997 2.30652 32.0103 2.37639 32.3091C2.44626 32.6079 2.582 32.8873 2.77368 33.1269C2.96536 33.3665 3.20814 33.5602 3.48429 33.694C3.76044 33.8277 4.06298 33.8981 4.36981 33.9C4.51278 33.9144 4.65684 33.9144 4.79981 33.9L13.0898 32L33.8698 11.24C34.2557 10.8521 34.4724 10.3272 34.4724 9.77997C34.4724 9.23279 34.2557 8.70786 33.8698 8.31997V8.31997ZM12.0898 30.2L4.31981 31.83L6.08981 24.21L21.6598 8.69997L27.6598 14.7L12.0898 30.2ZM28.9998 13.25L22.9998 7.24997L26.4798 3.78997L32.3798 9.78997L28.9998 13.25Z"
                fill="black"
              />
            </svg>
          </p>
        </div>
        <div>
          <button class="btn-outline-icon inline-flex items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="12 -2 30 30"
              fill="none"
              stroke="#000000"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="overflow-visible stroke-current"
            >
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="8" y1="12" x2="16" y2="12"></line>
            </svg>

            <span @click="deleteCollectionById()"> Delete collection</span>
          </button>

          <button
            @click="addNewImage()"
            class="btn-purple-icon inline-flex items-center"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="12 -2 30 30"
              fill="none"
              stroke="#ffffff"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="overflow-visible"
            >
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="8" x2="12" y2="16"></line>
              <line x1="8" y1="12" x2="16" y2="12"></line>
            </svg>

            <span>Add image</span>
          </button>
        </div>
      </div>

      <div class="h-lg">
        <div v-if="imageList.length == 0" class="flex h-lg">
          <div class="m-auto">
            <svg
              class="mb-16"
              width="230"
              height="228"
              viewBox="0 0 207 245"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2.276 208.625V191.825H4.292L13.244 205.289V191.825H15.26V208.625H13.244L4.292 195.161V208.625H2.276ZM23.8869 208.913C22.7669 208.913 21.7589 208.657 20.8629 208.145C19.9669 207.633 19.2549 206.913 18.7269 205.985C18.2149 205.041 17.9589 203.937 17.9589 202.673C17.9589 201.409 18.2229 200.313 18.7509 199.385C19.2789 198.441 19.9909 197.713 20.8869 197.201C21.7989 196.689 22.8149 196.433 23.9349 196.433C25.0549 196.433 26.0629 196.689 26.9589 197.201C27.8549 197.713 28.5589 198.441 29.0709 199.385C29.5989 200.313 29.8629 201.409 29.8629 202.673C29.8629 203.937 29.5989 205.041 29.0709 205.985C28.5429 206.913 27.8229 207.633 26.9109 208.145C26.0149 208.657 25.0069 208.913 23.8869 208.913ZM23.8869 207.185C24.5749 207.185 25.2149 207.017 25.8069 206.681C26.3989 206.345 26.8789 205.841 27.2469 205.169C27.6149 204.497 27.7989 203.665 27.7989 202.673C27.7989 201.681 27.6149 200.849 27.2469 200.177C26.8949 199.505 26.4229 199.001 25.8309 198.665C25.2389 198.329 24.6069 198.161 23.9349 198.161C23.2469 198.161 22.6069 198.329 22.0149 198.665C21.4229 199.001 20.9429 199.505 20.5749 200.177C20.2069 200.849 20.0229 201.681 20.0229 202.673C20.0229 203.665 20.2069 204.497 20.5749 205.169C20.9429 205.841 21.4149 206.345 21.9909 206.681C22.5829 207.017 23.2149 207.185 23.8869 207.185ZM39.7616 194.081C39.3616 194.081 39.0256 193.953 38.7536 193.697C38.4976 193.425 38.3696 193.089 38.3696 192.689C38.3696 192.305 38.4976 191.985 38.7536 191.729C39.0256 191.473 39.3616 191.345 39.7616 191.345C40.1456 191.345 40.4736 191.473 40.7456 191.729C41.0176 191.985 41.1536 192.305 41.1536 192.689C41.1536 193.089 41.0176 193.425 40.7456 193.697C40.4736 193.953 40.1456 194.081 39.7616 194.081ZM38.7536 208.625V196.721H40.7696V208.625H38.7536ZM44.0398 208.625V196.721H45.8638L46.0078 198.449C46.3918 197.809 46.9038 197.313 47.5438 196.961C48.1838 196.609 48.9038 196.433 49.7038 196.433C50.6478 196.433 51.4558 196.625 52.1278 197.009C52.8158 197.393 53.3438 197.977 53.7118 198.761C54.1278 198.041 54.6958 197.473 55.4158 197.057C56.1518 196.641 56.9438 196.433 57.7918 196.433C59.2158 196.433 60.3518 196.865 61.1998 197.729C62.0478 198.577 62.4718 199.889 62.4718 201.665V208.625H60.4798V201.881C60.4798 200.649 60.2318 199.721 59.7358 199.097C59.2398 198.473 58.5278 198.161 57.5998 198.161C56.6398 198.161 55.8398 198.537 55.1998 199.289C54.5758 200.025 54.2638 201.081 54.2638 202.457V208.625H52.2478V201.881C52.2478 200.649 51.9998 199.721 51.5038 199.097C51.0078 198.473 50.2958 198.161 49.3678 198.161C48.4238 198.161 47.6318 198.537 46.9918 199.289C46.3678 200.025 46.0558 201.081 46.0558 202.457V208.625H44.0398ZM69.2285 208.913C68.2365 208.913 67.4125 208.745 66.7565 208.409C66.1005 208.073 65.6125 207.625 65.2925 207.065C64.9725 206.505 64.8125 205.897 64.8125 205.241C64.8125 204.025 65.2765 203.089 66.2045 202.433C67.1325 201.777 68.3965 201.449 69.9965 201.449H73.2125V201.305C73.2125 200.265 72.9405 199.481 72.3965 198.953C71.8525 198.409 71.1245 198.137 70.2125 198.137C69.4285 198.137 68.7485 198.337 68.1725 198.737C67.6125 199.121 67.2605 199.689 67.1165 200.441H65.0525C65.1325 199.577 65.4205 198.849 65.9165 198.257C66.4285 197.665 67.0605 197.217 67.8125 196.913C68.5645 196.593 69.3645 196.433 70.2125 196.433C71.8765 196.433 73.1245 196.881 73.9565 197.777C74.8045 198.657 75.2285 199.833 75.2285 201.305V208.625H73.4285L73.3085 206.489C72.9725 207.161 72.4765 207.737 71.8205 208.217C71.1805 208.681 70.3165 208.913 69.2285 208.913ZM69.5405 207.209C70.3085 207.209 70.9645 207.009 71.5085 206.609C72.0685 206.209 72.4925 205.689 72.7805 205.049C73.0685 204.409 73.2125 203.737 73.2125 203.033V203.009H70.1645C68.9805 203.009 68.1405 203.217 67.6445 203.633C67.1645 204.033 66.9245 204.537 66.9245 205.145C66.9245 205.769 67.1485 206.273 67.5965 206.657C68.0605 207.025 68.7085 207.209 69.5405 207.209ZM82.7169 204.881C82.0449 204.881 81.4289 204.793 80.8689 204.617L79.6689 205.745C79.8449 205.873 80.0609 205.985 80.3169 206.081C80.5889 206.161 80.9729 206.241 81.4689 206.321C81.9649 206.385 82.6609 206.457 83.5569 206.537C85.1569 206.649 86.3009 207.017 86.9889 207.641C87.6769 208.265 88.0209 209.081 88.0209 210.089C88.0209 210.777 87.8289 211.433 87.4449 212.057C87.0769 212.681 86.5009 213.193 85.7169 213.593C84.9489 213.993 83.9569 214.193 82.7409 214.193C81.6689 214.193 80.7169 214.049 79.8849 213.761C79.0529 213.489 78.4049 213.065 77.9409 212.489C77.4769 211.929 77.2449 211.217 77.2449 210.353C77.2449 209.905 77.3649 209.417 77.6049 208.889C77.8449 208.377 78.2929 207.889 78.9489 207.425C78.5969 207.281 78.2929 207.129 78.0369 206.969C77.7969 206.793 77.5729 206.601 77.3649 206.393V205.841L79.4049 203.825C78.4609 203.025 77.9889 201.969 77.9889 200.657C77.9889 199.873 78.1729 199.161 78.5409 198.521C78.9089 197.881 79.4449 197.377 80.1489 197.009C80.8529 196.625 81.7089 196.433 82.7169 196.433C83.4049 196.433 84.0289 196.529 84.5889 196.721H88.9809V198.233L86.7489 198.329C87.2129 199.001 87.4449 199.777 87.4449 200.657C87.4449 201.441 87.2529 202.153 86.8689 202.793C86.5009 203.433 85.9649 203.945 85.2609 204.329C84.5729 204.697 83.7249 204.881 82.7169 204.881ZM82.7169 203.225C83.5649 203.225 84.2369 203.009 84.7329 202.577C85.2449 202.129 85.5009 201.489 85.5009 200.657C85.5009 199.841 85.2449 199.217 84.7329 198.785C84.2369 198.337 83.5649 198.113 82.7169 198.113C81.8529 198.113 81.1649 198.337 80.6529 198.785C80.1569 199.217 79.9089 199.841 79.9089 200.657C79.9089 201.489 80.1569 202.129 80.6529 202.577C81.1649 203.009 81.8529 203.225 82.7169 203.225ZM79.2129 210.161C79.2129 210.961 79.5489 211.553 80.2209 211.937C80.8929 212.337 81.7329 212.537 82.7409 212.537C83.7329 212.537 84.5249 212.321 85.1169 211.889C85.7249 211.457 86.0289 210.881 86.0289 210.161C86.0289 209.649 85.8209 209.201 85.4049 208.817C84.9889 208.449 84.2209 208.233 83.1009 208.169C82.2209 208.105 81.4609 208.025 80.8209 207.929C80.1649 208.281 79.7329 208.657 79.5249 209.057C79.3169 209.473 79.2129 209.841 79.2129 210.161ZM95.8983 208.913C94.7623 208.913 93.7543 208.657 92.8743 208.145C91.9943 207.617 91.2983 206.889 90.7863 205.961C90.2903 205.033 90.0423 203.937 90.0423 202.673C90.0423 201.425 90.2903 200.337 90.7863 199.409C91.2823 198.465 91.9703 197.737 92.8503 197.225C93.7463 196.697 94.7783 196.433 95.9463 196.433C97.0983 196.433 98.0903 196.697 98.9223 197.225C99.7703 197.737 100.418 198.417 100.866 199.265C101.314 200.113 101.538 201.025 101.538 202.001C101.538 202.177 101.53 202.353 101.514 202.529C101.514 202.705 101.514 202.905 101.514 203.129H92.0343C92.0823 204.041 92.2903 204.801 92.6583 205.409C93.0423 206.001 93.5143 206.449 94.0743 206.753C94.6503 207.057 95.2583 207.209 95.8983 207.209C96.7303 207.209 97.4263 207.017 97.9863 206.633C98.5463 206.249 98.9543 205.729 99.2103 205.073H101.202C100.882 206.177 100.266 207.097 99.3543 207.833C98.4583 208.553 97.3063 208.913 95.8983 208.913ZM95.8983 198.137C94.9383 198.137 94.0823 198.433 93.3303 199.025C92.5943 199.601 92.1703 200.449 92.0583 201.569H99.5463C99.4983 200.497 99.1303 199.657 98.4423 199.049C97.7543 198.441 96.9063 198.137 95.8983 198.137ZM108.53 208.913C107.106 208.913 105.922 208.553 104.978 207.833C104.034 207.113 103.482 206.137 103.322 204.905H105.386C105.514 205.529 105.842 206.073 106.37 206.537C106.914 206.985 107.642 207.209 108.554 207.209C109.402 207.209 110.026 207.033 110.426 206.681C110.826 206.313 111.026 205.881 111.026 205.385C111.026 204.665 110.762 204.185 110.234 203.945C109.722 203.705 108.994 203.489 108.05 203.297C107.41 203.169 106.77 202.985 106.13 202.745C105.49 202.505 104.954 202.169 104.522 201.737C104.09 201.289 103.874 200.705 103.874 199.985C103.874 198.945 104.258 198.097 105.026 197.441C105.81 196.769 106.866 196.433 108.194 196.433C109.458 196.433 110.49 196.753 111.29 197.393C112.106 198.017 112.578 198.913 112.706 200.081H110.714C110.634 199.473 110.37 199.001 109.922 198.665C109.49 198.313 108.906 198.137 108.17 198.137C107.45 198.137 106.89 198.289 106.49 198.593C106.106 198.897 105.914 199.297 105.914 199.793C105.914 200.273 106.162 200.649 106.658 200.921C107.17 201.193 107.858 201.425 108.722 201.617C109.458 201.777 110.154 201.977 110.81 202.217C111.482 202.441 112.026 202.785 112.442 203.249C112.874 203.697 113.09 204.353 113.09 205.217C113.106 206.289 112.698 207.177 111.866 207.881C111.05 208.569 109.938 208.913 108.53 208.913ZM126.546 208.625C125.458 208.625 124.602 208.361 123.978 207.833C123.354 207.305 123.042 206.353 123.042 204.977V198.425H120.978V196.721H123.042L123.306 193.865H125.058V196.721H128.562V198.425H125.058V204.977C125.058 205.729 125.21 206.241 125.514 206.513C125.818 206.769 126.354 206.897 127.122 206.897H128.37V208.625H126.546ZM135.979 208.913C134.859 208.913 133.851 208.657 132.955 208.145C132.059 207.633 131.347 206.913 130.819 205.985C130.307 205.041 130.051 203.937 130.051 202.673C130.051 201.409 130.315 200.313 130.843 199.385C131.371 198.441 132.083 197.713 132.979 197.201C133.891 196.689 134.907 196.433 136.027 196.433C137.147 196.433 138.155 196.689 139.051 197.201C139.947 197.713 140.651 198.441 141.163 199.385C141.691 200.313 141.955 201.409 141.955 202.673C141.955 203.937 141.691 205.041 141.163 205.985C140.635 206.913 139.915 207.633 139.003 208.145C138.107 208.657 137.099 208.913 135.979 208.913ZM135.979 207.185C136.667 207.185 137.307 207.017 137.899 206.681C138.491 206.345 138.971 205.841 139.339 205.169C139.707 204.497 139.891 203.665 139.891 202.673C139.891 201.681 139.707 200.849 139.339 200.177C138.987 199.505 138.515 199.001 137.923 198.665C137.331 198.329 136.699 198.161 136.027 198.161C135.339 198.161 134.699 198.329 134.107 198.665C133.515 199.001 133.035 199.505 132.667 200.177C132.299 200.849 132.115 201.681 132.115 202.673C132.115 203.665 132.299 204.497 132.667 205.169C133.035 205.841 133.507 206.345 134.083 206.681C134.675 207.017 135.307 207.185 135.979 207.185ZM155.19 208.913C153.766 208.913 152.582 208.553 151.638 207.833C150.694 207.113 150.142 206.137 149.982 204.905H152.046C152.174 205.529 152.502 206.073 153.03 206.537C153.574 206.985 154.302 207.209 155.214 207.209C156.062 207.209 156.686 207.033 157.086 206.681C157.486 206.313 157.686 205.881 157.686 205.385C157.686 204.665 157.422 204.185 156.894 203.945C156.382 203.705 155.654 203.489 154.71 203.297C154.07 203.169 153.43 202.985 152.79 202.745C152.15 202.505 151.614 202.169 151.182 201.737C150.75 201.289 150.534 200.705 150.534 199.985C150.534 198.945 150.918 198.097 151.686 197.441C152.47 196.769 153.526 196.433 154.854 196.433C156.118 196.433 157.15 196.753 157.95 197.393C158.766 198.017 159.238 198.913 159.366 200.081H157.374C157.294 199.473 157.03 199.001 156.582 198.665C156.15 198.313 155.566 198.137 154.83 198.137C154.11 198.137 153.55 198.289 153.15 198.593C152.766 198.897 152.574 199.297 152.574 199.793C152.574 200.273 152.822 200.649 153.318 200.921C153.83 201.193 154.518 201.425 155.382 201.617C156.118 201.777 156.814 201.977 157.47 202.217C158.142 202.441 158.686 202.785 159.102 203.249C159.534 203.697 159.75 204.353 159.75 205.217C159.766 206.289 159.358 207.177 158.526 207.881C157.71 208.569 156.598 208.913 155.19 208.913ZM162.39 208.625V191.345H164.406V198.761C164.806 198.025 165.374 197.457 166.11 197.057C166.846 196.641 167.646 196.433 168.51 196.433C169.886 196.433 170.99 196.865 171.822 197.729C172.654 198.577 173.07 199.889 173.07 201.665V208.625H171.078V201.881C171.078 199.401 170.078 198.161 168.078 198.161C167.038 198.161 166.166 198.537 165.462 199.289C164.758 200.025 164.406 201.081 164.406 202.457V208.625H162.39ZM181.308 208.913C180.188 208.913 179.18 208.657 178.284 208.145C177.388 207.633 176.676 206.913 176.148 205.985C175.636 205.041 175.38 203.937 175.38 202.673C175.38 201.409 175.644 200.313 176.172 199.385C176.7 198.441 177.412 197.713 178.308 197.201C179.22 196.689 180.236 196.433 181.356 196.433C182.476 196.433 183.484 196.689 184.38 197.201C185.276 197.713 185.98 198.441 186.492 199.385C187.02 200.313 187.284 201.409 187.284 202.673C187.284 203.937 187.02 205.041 186.492 205.985C185.964 206.913 185.244 207.633 184.332 208.145C183.436 208.657 182.428 208.913 181.308 208.913ZM181.308 207.185C181.996 207.185 182.636 207.017 183.228 206.681C183.82 206.345 184.3 205.841 184.668 205.169C185.036 204.497 185.22 203.665 185.22 202.673C185.22 201.681 185.036 200.849 184.668 200.177C184.316 199.505 183.844 199.001 183.252 198.665C182.66 198.329 182.028 198.161 181.356 198.161C180.668 198.161 180.028 198.329 179.436 198.665C178.844 199.001 178.364 199.505 177.996 200.177C177.628 200.849 177.444 201.681 177.444 202.673C177.444 203.665 177.628 204.497 177.996 205.169C178.364 205.841 178.836 206.345 179.412 206.681C180.004 207.017 180.636 207.185 181.308 207.185ZM191.802 208.625L188.322 196.721H190.338L192.858 206.057L195.642 196.721H197.922L200.73 206.057L203.226 196.721H205.266L201.786 208.625H199.722L196.794 198.809L193.866 208.625H191.802Z"
                fill="#AFAFAF"
              />
              <path
                d="M4.88636 240.203L6.05682 236.908H10.7614L11.9318 240.203H13.4091L9.13636 228.567H7.68182L3.40909 240.203H4.88636ZM6.5 235.658L8.36364 230.408H8.45455L10.3182 235.658H6.5ZM18.3352 240.385C20.017 240.385 20.5852 239.339 20.8807 238.862H21.0398V240.203H22.3352V228.567H20.9943V232.862H20.8807C20.5852 232.408 20.0625 231.362 18.358 231.362C16.1534 231.362 14.6307 233.112 14.6307 235.862C14.6307 238.635 16.1534 240.385 18.3352 240.385ZM18.517 239.18C16.8352 239.18 15.9716 237.703 15.9716 235.839C15.9716 233.999 16.8125 232.567 18.517 232.567C20.1534 232.567 21.017 233.885 21.017 235.839C21.017 237.817 20.1307 239.18 18.517 239.18ZM28.2727 240.385C29.9545 240.385 30.5227 239.339 30.8182 238.862H30.9773V240.203H32.2727V228.567H30.9318V232.862H30.8182C30.5227 232.408 30 231.362 28.2955 231.362C26.0909 231.362 24.5682 233.112 24.5682 235.862C24.5682 238.635 26.0909 240.385 28.2727 240.385ZM28.4545 239.18C26.7727 239.18 25.9091 237.703 25.9091 235.839C25.9091 233.999 26.75 232.567 28.4545 232.567C30.0909 232.567 30.9545 233.885 30.9545 235.839C30.9545 237.817 30.0682 239.18 28.4545 239.18ZM40.2784 243.476C41.4886 243.476 42.3409 242.834 42.8466 241.476L46.5625 231.499L45.0966 231.476L42.6875 238.43H42.5966L40.1875 231.476H38.733L41.9602 240.249L41.7102 240.93C41.2216 242.26 40.6193 242.385 39.642 242.135L39.3011 243.317C39.4375 243.385 39.8239 243.476 40.2784 243.476ZM51.5696 240.385C53.9332 240.385 55.5241 238.589 55.5241 235.885C55.5241 233.158 53.9332 231.362 51.5696 231.362C49.206 231.362 47.6151 233.158 47.6151 235.885C47.6151 238.589 49.206 240.385 51.5696 240.385ZM51.5696 239.18C49.7741 239.18 48.956 237.635 48.956 235.885C48.956 234.135 49.7741 232.567 51.5696 232.567C53.3651 232.567 54.1832 234.135 54.1832 235.885C54.1832 237.635 53.3651 239.18 51.5696 239.18ZM63.071 236.635C63.071 238.271 61.821 239.021 60.821 239.021C59.7074 239.021 58.9119 238.203 58.9119 236.93V231.476H57.571V237.021C57.571 239.249 58.7528 240.317 60.3892 240.317C61.7074 240.317 62.571 239.612 62.9801 238.726H63.071V240.203H64.4119V231.476H63.071V236.635ZM66.8679 240.203H68.2088V234.68C68.2088 233.499 69.1406 232.635 70.4134 232.635C70.7713 232.635 71.1406 232.703 71.2315 232.726V231.362C71.0781 231.351 70.7259 231.339 70.527 231.339C69.4815 231.339 68.5724 231.93 68.2543 232.794H68.1634V231.476H66.8679V240.203ZM81.2074 231.476H79.2528V230.589C79.2528 229.726 79.6165 229.271 80.5028 229.271C80.8892 229.271 81.1165 229.362 81.2528 229.408L81.6392 228.249C81.4347 228.158 81.0256 228.021 80.3665 228.021C79.1165 228.021 77.9119 228.771 77.9119 230.271V231.476H76.5028V232.612H77.9119V240.203H79.2528V232.612H81.2074V231.476ZM83.0866 240.203H84.4276V231.476H83.0866V240.203ZM83.7685 230.021C84.2912 230.021 84.723 229.612 84.723 229.112C84.723 228.612 84.2912 228.203 83.7685 228.203C83.2457 228.203 82.8139 228.612 82.8139 229.112C82.8139 229.612 83.2457 230.021 83.7685 230.021ZM86.8835 240.203H88.2244V234.68C88.2244 233.499 89.1562 232.635 90.429 232.635C90.7869 232.635 91.1562 232.703 91.2472 232.726V231.362C91.0938 231.351 90.7415 231.339 90.5426 231.339C89.4972 231.339 88.5881 231.93 88.2699 232.794H88.179V231.476H86.8835V240.203ZM99.0185 233.43C98.598 232.192 97.6548 231.362 95.9276 231.362C94.0866 231.362 92.723 232.408 92.723 233.885C92.723 235.089 93.4389 235.896 95.0412 236.271L96.4957 236.612C97.3764 236.817 97.7912 237.237 97.7912 237.839C97.7912 238.589 96.9957 239.203 95.7457 239.203C94.6491 239.203 93.9616 238.732 93.723 237.794L92.4503 238.112C92.7628 239.595 93.9844 240.385 95.7685 240.385C97.7969 240.385 99.1776 239.277 99.1776 237.771C99.1776 236.555 98.4162 235.788 96.8594 235.408L95.5639 235.089C94.5298 234.834 94.0639 234.487 94.0639 233.817C94.0639 233.067 94.8594 232.521 95.9276 232.521C97.098 232.521 97.581 233.169 97.8139 233.771L99.0185 233.43ZM104.991 231.476H103.128V229.385H101.787V231.476H100.469V232.612H101.787V238.067C101.787 239.589 103.014 240.317 104.151 240.317C104.651 240.317 104.969 240.226 105.151 240.158L104.878 238.953C104.764 238.976 104.582 239.021 104.287 239.021C103.696 239.021 103.128 238.839 103.128 237.703V232.612H104.991V231.476ZM111.509 240.203H112.849V231.476H111.509V240.203ZM112.19 230.021C112.713 230.021 113.145 229.612 113.145 229.112C113.145 228.612 112.713 228.203 112.19 228.203C111.668 228.203 111.236 228.612 111.236 229.112C111.236 229.612 111.668 230.021 112.19 230.021ZM115.305 240.203H116.646V234.749C116.646 233.47 117.578 232.567 118.624 232.567C119.641 232.567 120.351 233.232 120.351 234.226V240.203H121.714V234.521C121.714 233.396 122.419 232.567 123.646 232.567C124.601 232.567 125.419 233.072 125.419 234.362V240.203H126.76V234.362C126.76 232.311 125.658 231.362 124.101 231.362C122.851 231.362 121.936 231.936 121.487 232.839H121.396C120.964 231.908 120.203 231.362 119.055 231.362C117.919 231.362 117.078 231.908 116.714 232.839H116.601V231.476H115.305V240.203ZM131.78 240.408C133.303 240.408 134.098 239.589 134.371 239.021H134.439V240.203H135.78V234.453C135.78 231.68 133.666 231.362 132.553 231.362C131.234 231.362 129.734 231.817 129.053 233.408L130.325 233.862C130.621 233.226 131.32 232.544 132.598 232.544C133.831 232.544 134.439 233.197 134.439 234.317V234.362C134.439 235.01 133.78 234.953 132.189 235.158C130.57 235.368 128.803 235.726 128.803 237.726C128.803 239.43 130.121 240.408 131.78 240.408ZM131.984 239.203C130.916 239.203 130.143 238.726 130.143 237.794C130.143 236.771 131.075 236.453 132.121 236.317C132.689 236.249 134.212 236.089 134.439 235.817V237.044C134.439 238.135 133.575 239.203 131.984 239.203ZM141.75 243.658C143.841 243.658 145.523 242.703 145.523 240.453V231.476H144.227V232.862H144.091C143.795 232.408 143.25 231.362 141.545 231.362C139.341 231.362 137.818 233.112 137.818 235.794C137.818 238.521 139.409 240.067 141.523 240.067C143.227 240.067 143.773 239.067 144.068 238.589H144.182V240.362C144.182 241.817 143.159 242.476 141.75 242.476C140.165 242.476 139.608 241.641 139.25 241.158L138.182 241.908C138.727 242.822 139.801 243.658 141.75 243.658ZM141.705 238.862C140.023 238.862 139.159 237.589 139.159 235.771C139.159 233.999 140 232.567 141.705 232.567C143.341 232.567 144.205 233.885 144.205 235.771C144.205 237.703 143.318 238.862 141.705 238.862ZM151.636 240.385C153.409 240.385 154.705 239.499 155.114 238.18L153.818 237.817C153.477 238.726 152.688 239.18 151.636 239.18C150.062 239.18 148.977 238.163 148.915 236.294H155.25V235.726C155.25 232.476 153.318 231.362 151.5 231.362C149.136 231.362 147.568 233.226 147.568 235.908C147.568 238.589 149.114 240.385 151.636 240.385ZM148.915 235.135C149.006 233.777 149.966 232.567 151.5 232.567C152.955 232.567 153.886 233.658 153.886 235.135H148.915ZM165.585 231.476H163.722V229.385H162.381V231.476H161.062V232.612H162.381V238.067C162.381 239.589 163.608 240.317 164.744 240.317C165.244 240.317 165.562 240.226 165.744 240.158L165.472 238.953C165.358 238.976 165.176 239.021 164.881 239.021C164.29 239.021 163.722 238.839 163.722 237.703V232.612H165.585V231.476ZM171.054 240.385C173.418 240.385 175.009 238.589 175.009 235.885C175.009 233.158 173.418 231.362 171.054 231.362C168.69 231.362 167.099 233.158 167.099 235.885C167.099 238.589 168.69 240.385 171.054 240.385ZM171.054 239.18C169.259 239.18 168.44 237.635 168.44 235.885C168.44 234.135 169.259 232.567 171.054 232.567C172.849 232.567 173.668 234.135 173.668 235.885C173.668 237.635 172.849 239.18 171.054 239.18ZM180.351 240.385C182.033 240.385 182.601 239.339 182.896 238.862H183.055V240.203H184.351V228.567H183.01V232.862H182.896C182.601 232.408 182.078 231.362 180.374 231.362C178.169 231.362 176.646 233.112 176.646 235.862C176.646 238.635 178.169 240.385 180.351 240.385ZM180.533 239.18C178.851 239.18 177.987 237.703 177.987 235.839C177.987 233.999 178.828 232.567 180.533 232.567C182.169 232.567 183.033 233.885 183.033 235.839C183.033 237.817 182.146 239.18 180.533 239.18ZM189.561 240.408C191.084 240.408 191.879 239.589 192.152 239.021H192.22V240.203H193.561V234.453C193.561 231.68 191.447 231.362 190.334 231.362C189.016 231.362 187.516 231.817 186.834 233.408L188.107 233.862C188.402 233.226 189.101 232.544 190.379 232.544C191.612 232.544 192.22 233.197 192.22 234.317V234.362C192.22 235.01 191.561 234.953 189.97 235.158C188.351 235.368 186.584 235.726 186.584 237.726C186.584 239.43 187.902 240.408 189.561 240.408ZM189.766 239.203C188.697 239.203 187.925 238.726 187.925 237.794C187.925 236.771 188.857 236.453 189.902 236.317C190.47 236.249 191.993 236.089 192.22 235.817V237.044C192.22 238.135 191.357 239.203 189.766 239.203ZM196.56 243.476C197.77 243.476 198.622 242.834 199.128 241.476L202.844 231.499L201.378 231.476L198.969 238.43H198.878L196.469 231.476H195.014L198.241 240.249L197.991 240.93C197.503 242.26 196.901 242.385 195.923 242.135L195.582 243.317C195.719 243.385 196.105 243.476 196.56 243.476Z"
                fill="#AFAFAF"
              />
              <path
                d="M178.482 71.4735C177.761 70.5443 176.837 69.7928 175.78 69.2771C174.723 68.7613 173.562 68.495 172.386 68.4987H151.052V51.6074C151.049 49.6328 150.264 47.7397 148.867 46.3434C147.471 44.9472 145.578 44.1618 143.603 44.1596H99.6786L93.9513 30.4088C93.3878 29.0501 92.4336 27.8893 91.2097 27.0735C89.9858 26.2577 88.5473 25.8236 87.0764 25.8262H33.6041C31.6295 25.8285 29.7365 26.6139 28.3402 28.0102C26.944 29.4064 26.1586 31.2995 26.1562 33.2741V150.722H161.736L179.889 78.1089C180.178 76.969 180.201 75.778 179.957 74.6276C179.713 73.4772 179.208 72.3982 178.482 71.4735ZM36.4688 140.41V36.1387H85.1666L92.8043 54.4721H140.74V68.4987H65.3396C63.614 68.4964 61.9374 69.0722 60.5772 70.134C59.217 71.1958 58.2516 72.6826 57.835 74.3571L41.323 140.41H36.4688ZM153.684 140.41H51.953L67.3524 78.8112H169.084L153.684 140.41Z"
                fill="#E5E5E5"
              />
            </svg>
          </div>
        </div>

        <!-- displaying images inside collection using a for loop -->
        <div
          class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-5"
        >
          <div v-for="image in imageList" :key="image.location">
            <div>
              <img :src="'/images/' + image.location" alt="image" />
              <p
                @click="deleteImageById(image.id)"
                class="font-display text-base mt-3 hover:text-purple"
              >
                Remove
              </p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <div
        class="
          container
          flex
          justify-between
          items-center
          border-t border-black
          mb-10
        "
      >
        <p class="text-2xl text-normal font-display my-8">Mozaik</p>
        <p class="text-base text-normal font-display my-8">
          Created at Jönköping University, Sweden 2021 Autumn
        </p>

        <p class="text-base text-normal font-display my-8">
          David Krall & Rahel Balogh
        </p>
      </div>
    </footer>
  </div>
</template>

<script>
const client = require("../mozaik-client");

export default {
  props: ["user"],

  data() {
    return {
      imageList: [],
      collectionId: this.$route.params.id,
      currentTitle: "",
    };
  },

  methods: {
    getImageList() {
      var accountId = this.user.sessionUserId;

      if (!accountId) {
        alert("You are not logged in!");
      }

      client.getImagesByCollectionId(this.collectionId, (errors, images) => {
        if (errors.length == 0) {
          this.imageList = images;
        } else {
          alert(errors);
        }
      });
    },

    addNewImage() {
      var imgUrl = "";
      imgUrl = prompt("Paste your image Url below!", "");

      const img = {
        url: imgUrl,
        collectionId: this.$route.params.id,
      };

      if (imgUrl == "") {
        alert("Provide an image URL!");
      } else {
        client.createImage(img, (errors, id) => {
          if (errors.length == 0) {
            this.getImageList();
          } else {
            alert(errors);
          }
        });
      }
    },

    deleteCollectionById() {
      if (confirm("Are you sure you want to delete this collection?")) {
        client.deleteCollectionById(this.collectionId, (errors) => {
          if (errors.length == 0) {
            this.$router.push("/home");
          } else {
            alert(errors);
          }
        });
      }
    },

    deleteImageById(imageId) {
      if (confirm("Are you sure you want to delete this image?")) {
        client.deleteImageById(imageId, (errors) => {
          if (errors.length == 0) {
            this.getImageList();
          } else {
            alert(errors);
          }
        });
      }
    },

    getCurrentTitle() {
      var i = 0;
      for (i = 0; i < this.user.collectionList.length; i++) {
        if (this.user.collectionList[i].id == this.collectionId) {
          this.currentTitle = this.user.collectionList[i].title;
        }
      }
    },

    editCollectionName() {
      var updatedCollectionName = "";
      updatedCollectionName = prompt("Edit your collection title below!", "");

      const updatedCollection = {
        title: updatedCollectionName,
        description: "",
      };

      if (updatedCollectionName == "") {
        alert("Provide a new collection title!");
      } else {
        client.updateCollectionById(
          this.collectionId,
          updatedCollection,
          (errors) => {
            if (errors.length == 0) {
              this.currentTitle = updatedCollectionName;
              alert("Title updated!");
            } else {
              alert(errors);
            }
          }
        );
      }
    },
  },

  created() {
    this.getImageList();
    this.getCurrentTitle();
  },
};
</script>
